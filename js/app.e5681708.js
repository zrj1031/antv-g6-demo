(function(e){function t(t){for(var r,i,c=t[0],l=t[1],s=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/antv-g6-demo/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"043c":function(e,t,n){"use strict";n("d366")},2395:function(e,t,n){},3847:function(e,t,n){"use strict";n("a3ff")},"3d06":function(e,t,n){"use strict";n("eb7b")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("TreeCanvas")],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"canvasMountNode",class:["canvas-wrapper",{fullScreen:e.fullScreen}],attrs:{id:"canvasMountNode"}},[n("ToolBar",{attrs:{zoomRadio:e.zoomRadio,isFullScreen:e.fullScreen},on:{"full-screen":e.handleFullScreen,"zoom-minus":function(t){return e.handleZoom(-.05)},"zoom-plus":function(t){return e.handleZoom(.05)}}})],1)},c=[],l=n("1da1"),s=n("5530"),u=(n("96cf"),n("99af"),n("d81d"),n("4d63"),n("ac1f"),n("25f0"),n("159b"),n("1276"),n("b0c0"),n("caad"),n("2532"),n("a630"),n("3ca3"),{id:"1",name:"计划审核",children:[{id:"1",name:"队列1",children:[{id:"1",name:"场景1",children:[{id:"1",name:"规则链",children:[{id:"1",name:"Tag1",children:[]},{id:"2",name:"Tag2",children:[]},{id:"3",name:"Tag3",children:[]}]}]},{id:"=2",name:"场景2",children:[]}]},{id:"2",name:"队列2名字很长很长很长很长很长很长很长很长很长很长很长很长",children:[{id:"1",name:"场景1"}]},{id:"3",name:"队列3",children:[]}]}),d=n("7c3e"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar-wrapper"},[n("div",{staticClass:"full-screen-wrapper"},[n(e.isFullScreen?"OffScreenTwo":"FullScreenTwo",{tag:"component",on:{click:function(t){return e.$emit("full-screen")}}})],1),n("div",{staticClass:"zoom-wrapper"},[n("Minus",{on:{click:function(t){return e.$emit("zoom-minus")}}}),n("span",{staticClass:"radio"},[e._v(" "+e._s(e.formatRadio)+"%")]),n("Plus",{on:{click:function(t){return e.$emit("zoom-plus")}}})],1)])},p=[],h=(n("a9e3"),n("e03c")),m=n("7f08"),g=n("7cea"),v=n("cf18"),w={name:"ToolBar",props:{zoomRadio:{type:Number},isFullScreen:{type:Boolean,default:!1}},components:{OffScreenTwo:h["a"],FullScreenTwo:m["a"],Minus:g["a"],Plus:v["a"]},computed:{formatRadio:function(){return Math.floor(100*this.zoomRadio)}}},C=w,b=(n("3d06"),n("2877")),y=Object(b["a"])(C,f,p,!1,null,"70de65c4",null),x=y.exports,S=function(e,t,n){return[["M",e,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e+2,t],["L",e+2*n-2,t]]},T=function(e,t,n){return[["M",e,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e+2,t],["L",e+2*n-2,t],["M",e+n,t-n+2],["L",e+n,t+n-2]]},O={name:"G6Canvas",components:{ToolBar:x},data:function(){return{treeData:{},graph:null,zoomRadio:1,fullScreen:!1}},computed:{formatTreeData:function(){var e=this.treeData;return d["a"].Util.traverseTree(e,(function(e){var t,n;e.id="".concat(e.parentId?"".concat(e.parentId,"-"):"").concat(e.id),e.children=null!==(t=null===(n=e.children)||void 0===n?void 0:n.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{parentId:e.id})})))&&void 0!==t?t:[]})),e}},methods:{registerNode:function(){var e=function(e,t,n){var r="...",a=d["a"].Util.getTextSize(r,n)[0],o=0,i=e,c=new RegExp("[一-龥]+");return e.split("").forEach((function(l,s){o>t-a||(c.test(l)?o+=n:o+=d["a"].Util.getLetterWidth(l,n),o>t-a&&(i="".concat(e.substr(0,s)).concat(r)))})),i},t={0:{rectBgColor:"#1251FF",textColor:"#fff"},1:{textColor:"#1251FF",circleBgColor:"#6B93FF"},2:{circleBgColor:"#C6C6CC"},3:{circleBgColor:"#C6C6CC"},default:{rectBgColor:"#fff",textColor:"#646475"}},n=152;d["a"].registerNode("canvas-node",{draw:function(r,a){var o=r.depth,i=r.children,c=Object.assign({},t.default,t[o]||{}),l={textAlign:"center",textBaseline:"middle",fontSize:14,fontFamily:"PingFang SC",fontWeight:500},u=a.addShape("rect",{attrs:{x:0,y:0,radius:[18]},name:"rect-shape"}),d=a.addShape("rect",{attrs:{x:0,y:0,radius:[18],fill:c.rectBgColor,stroke:c.rectBgColor},name:"rect-shape"}),f=e(r.name,n,14),p=a.addShape("text",{attrs:Object(s["a"])(Object(s["a"])({},l),{},{text:f,fill:c.textColor}),name:"text-shape"}),h=p.getBBox().width,m=0!==o&&(null===i||void 0===i?void 0:i.length)>0,g=0!==o&&(null===i||void 0===i?void 0:i.length)>0;d.attr({width:Math.min(h,n)+36+(m?34:0),height:36});var v=d.getBBox(),w=v.width,C=v.height;u.attr({width:w+(g?26:0),height:36});var b=f.includes("...");return p.attr({x:18+h/2,y:C/2,showTooltip:b,cursor:b?"pointer":"auto"}),m&&(a.addShape("circle",{attrs:{x:w-20,y:C/2,r:12,fill:c.circleBgColor},name:"count-circle-shape"}),a.addShape("text",{attrs:Object(s["a"])(Object(s["a"])({},l),{},{x:w-8-12,y:C/2,text:r.children.length,fill:"#fff"}),name:"count-text-shape"})),g&&(a.addShape("path",{attrs:{path:[["M",w,C/2],["L",w+8,C/2]],stroke:"#C6C6CC",lineWidth:2},name:"path-shape"}),a.addShape("marker",{attrs:{x:w+8,y:C/2,stroke:"#C6C6CC",fill:"#fff",lineWidth:2,r:7,symbol:r.childCount>0&&r.collapsed?T:S,cursor:"pointer"},name:"marker-shape",className:"marker-collapse-icon"})),u},getAnchorPoints:function(){return[[0,.5],[1,.5]]}},"single-node")},initGraph:function(){var e=this;this.graph=new d["a"].TreeGraph({container:"canvasMountNode",renderer:"canvas",width:this.$el.offsetWidth,height:this.$el.offsetHeight,defaultNode:{type:"canvas-node"},defaultEdge:{type:"cubic-horizontal",style:{stroke:"#C6C6CC",lineWidth:2}},layout:{type:"compactBox",direction:"LR",getHeight:function(){return 36},getVGap:function(){return 23},getHGap:function(){return 134}},modes:{default:[{type:"collapse-expand"},"drag-canvas","zoom-canvas"]},plugins:[new d["a"].Tooltip({offsetX:-80,offsetY:-100,className:"g6-tooltip-wrapper",shouldBegin:function(e){var t;return null===(t=e.target.attrs)||void 0===t?void 0:t.showTooltip},getContent:function(e){var t=document.createElement("div");return t.innerHTML='\n                <div class="tooltip-inner-content">'.concat(e.item.getModel().name,"</div4>\n              "),t},itemTypes:["node"]})]}),this.graph.on("viewportchange",(function(){e.zoomRadio=e.graph.getZoom()})),this.graph.on("itemcollapsed",(function(t){var n=t.item,r=t.collapsed,a=n.get("group").findByClassName("marker-collapse-icon");a.attr("symbol",r?T:S),e.graph.focusItem(n,!0)})),this.graph.on("wheelzoom",(function(t){t.stopPropagation();var n=Array.from(document.getElementsByClassName("g6-tooltip-wrapper"));n.forEach((function(t){t&&t.style&&(t.style.transform="scale(".concat(e.graph.getZoom(),")"))}))}))},draw:function(){this.graph.data(this.formatTreeData),this.graph.render(),this.graph.fitView(),this.zoomRadio=this.graph.getZoom(),this.graph.layout()},handleZoom:function(e){var t=Math.max(.3,this.zoomRadio+e);this.graph.zoomTo(t),this.zoomRadio=t},handleFullScreen:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.fullScreen=!e.fullScreen,t.next=3,e.$nextTick();case 3:n=e.$refs.canvasMountNode,e.graph.changeSize(n.offsetWidth,n.offsetHeight),e.graph.fitView(),e.zoomRadio=e.graph.getZoom();case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.registerNode(),t.next=3,e.$nextTick();case 3:e.treeData=u,null===(n=e.graph)||void 0===n||n.destroy(),e.initGraph(),e.draw();case 7:case"end":return t.stop()}}),t)})))()}},z=O,B=(n("3847"),n("df5a"),Object(b["a"])(z,i,c,!1,null,"0e0c21de",null)),j=B.exports,M={name:"App",components:{TreeCanvas:j}},k=M,R=(n("7c55"),n("043c"),Object(b["a"])(k,a,o,!1,null,"7d528c82",null)),F=R.exports;new r["a"]({render:function(e){return e(F)}}).$mount("#app")},"7c55":function(e,t,n){"use strict";n("2395")},a3ff:function(e,t,n){},c625:function(e,t,n){},d366:function(e,t,n){},df5a:function(e,t,n){"use strict";n("c625")},eb7b:function(e,t,n){}});
//# sourceMappingURL=app.e5681708.js.map